# ДЗ по теме "Текстовое ранжирование" 

В этом ДЗ вам предстоит:
- Реализовать один из классических алгоритмов текстового ранжирования, например TF-IDF или BM25
- Побить бейзлайн в контесте на платформе Kaggle
- Предоставить код, который подтверждает выбитые скоры

Ссылка на контест: https://www.kaggle.com/competitions/text-ranking-homework-vk-ir-fall-2024

По этой ссылке доступны данные контеста, а также подробно описаны:
- формат датасета
- какие алгоритмы ранжирования можно использовать
- приемочная метрика
- как засабмитить предсказания модели
и т.п.

В этой же доке мы сфокусируемся на том, как подтвердить выбитые скоры.

Ожидается, что, после того как завершится контест, вы:
- форкнете [официальный репозиторий курса](https://github.com/agcr/vk-ir-course-fall-2024)
- создадите в своем форке новую ветку для своего решения, можете назвать ее например _homework-06-text-ranking-p2_ (но подойдет и любое другое название на ваш вкус)
- оформите свое решение в виде скрипта _solution.py_ в этой ветке
- поставите PR (pull request) со своим решением к официальной репе курса. В описании этого PRа надо будет указать свои имя и фамилию.

После этого мы, т.е. преподаватели, которые будут проверять ваше решение:
- счекаутим вашу ветку
- проверим что ваш _solution.py_ действительно генерит сабмишн, который действительно выбивает те скоры, которые вы выбили на Kaggle

Теперь распишем все это немного детальнее.

## Виртуальное окружение

В своем скрипте вы скорее всего будете использовать какие-то внешние библиотеки, такие как, например, _pandas_.
У преподавателя, который будет проверять ваш код, должна быть возможность воспроизвести точно такое же окружение (т.е. тот же набор сторонних библиотек), какое было у вас, когда вы решали этот контест.

Для этого предлагается воспользоваться механизмом виртуальных окружений (т.н. virtualenv).

В "главном" README в корне репы курса подробно расписано, как создать и активировать виртуальное окружение.
Ожидается, что вы:
- Создадите виртуальное окружение, например в папке _.venvs/homework-06-text-ranking-p2_ в корне счекаученного на вашу локальную машину вашего форка репы курса
- Поставите в него все необходимые библиотеки, напр. `pip install pandas`
- Сохраните итоговое окружение в файлик _requirements.txt_: `pip freeze > requirements.txt`

Сейчас в репе в качестве примера уже лежит файлик _requirements.txt_ с несколькими библиотеками (такими как _pandas_), но вы в своей ветке можете спокойно его перезаписать.

Ожидается, что преподаватель:
- Тоже создаст у себя новое виртуальное окружение
- Поставит в него сохраненные вами библиотеки с помощью команды: `pip install -r requirements.txt`, где _requirements.txt_ будет взят уже из вашей ветки

и дальше будет запускать ваше решение _solution.py_ уже в этом восстановленном виртуальном окружении.

## Скрипт решения solution.py

Ожидается, что в этом скрипте лежит код, воспроизводящий ваши модель и сабмишн, который вы засабмитили на Kaggle.

Скрипт будет запускаться вот так: `./solution.py --submission_file=submission.csv text-ranking-homework-vk-ir-fall-2024`

Т.е. преподаватель:
- перейдет в папку со скриптом в счекаученной ветке с вашим решением
- запустит скрипт из-под созданного ранее виртуального окружения, и передаст вашему скрипту несколько параметров командной строки

Подробнее про параметры:
- _text-ranking-homework-vk-ir-fall-2024_ -- это путь к папке с данными контеста (т.е. это те самые данные, которые можно скачать с Kaggle командой `kaggle competitions download -c text-ranking-homework-vk-ir-fall-2024`)
- _--submission_file_ - это как раз путь до сабмишна, который и должен сгенерить ваш скрипт

Ожидаем, что ваш скрипт сгенерит точно такой же submission.csv, как тот, который вы залили на Kaggle в качестве решения.
Но, если по каким-то причинам (напр. если не получилось зафиксировать генератор случайных чисел) этот сабмишн будет отличаться, то ожидаем что он выбьет плюс-минус точно такие же скоры, которые вы выбили на Kaggle.

Тем не менее, постарайтесь, пожалуйста, зафиксировать в своем скрипте генераторы случайных чисел.

Еще несколько важных для воспроизводимости моментов:
- проверять решение будем на Linux-машинах, поэтому избегайте в своем решении каких-то конструкций, которые могут не заработать под Linux
- будьте готовы что проверяющий придет к вам с уточняющими вопросами если у него что-то не будет запускаться, или воспроизводиться и т.п. Ожидается, что все общение с проверяющим будет происходить в комментариях к вашему pull request'у.

На этом все, надеемся что вам понравится решать этот контест!
